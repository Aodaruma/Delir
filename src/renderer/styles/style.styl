@import 'nib'
@import '_mixins'
global-reset()

*
    box-sizing border-box

$pane-border-width = 3px
$pane-background = linear-gradient(to bottom, hsl(0, 0%, 10%), hsl(0, 0%, 9%))

#root.theme--default {
    --background #0e0a11
    --pane-background linear-gradient(to bottom, #0c070f, 30% #0c070f, 50% #111)
    --pane-border-color rgba(#000, .9)
    --active-pane-border rgba(#6900a8, .5)
    --text-color #fff
    --caption-row-background #3a3340

    --accent-color #9300ed
}

html, body
    width 100%
    height 100%
    user-select none
    cursor default

#root, ._container
    display flex
    width 100%
    height 100%
    overflow hidden

    flex-direction column

    background var(--background)
    color var(--text-color)

    font-family 'Avenir Next', 'Helvetica Neue', 'Hiragino Kaku Gothic ProN', sans-serif
    font-size 14px

.app-body
    flex 1

//-- Workspace
._workspace
    display flex
    width 100%
    height 100%

._workspace--horizontal
    flex-direction row

    & > ._workspace-pane + ._workspace-pane
        padding-left $pane-border-width
        // & + &
        //     border-left 1px solid var(--pane-border-color)

        & > ._workspace-pane-handle
            width $pane-border-width
            height calc(100% +1px)
            cursor ew-resize

._workspace--horizontal > ._workspace-pane + ._workspace-pane > ._workspace-pane-handle
    position absolute
    top -1px
    left  0
    display block

._workspace--vertical
    flex-direction column

    & > ._workspace-pane + ._workspace-pane
        padding-top $pane-border-width
        // & + ._workspace-pane
        //     border-top 1px solid var(--pane-border-color)

        & > ._workspace-pane-handle
            width 100%
            height $pane-border-width
            cursor ns-resize

._workspace--vertical > ._workspace-pane + ._workspace-pane >._workspace-pane-handle
    position absolute
    top 0
    left 0
    display block

._workspace-pane
    position relative
    flex 1
    background $pane-background
    // background var(--pane-background)

    // border 1px solid transparent
    transition border-color .1s

    &._workspace-pane--allow-focus
        &:active, &:focus
            box-shadow 0 0 0 1px var(--active-pane-border)

._workspace-pane-handle
    display none
    background-color var(--pane-border-color)

._label-input
    background-color transparent
    color inherit
    font-family inherit
    outline none

    border none
    border-bottom 1px solid var(--accent-color)

    transition border-bottom-color .1s

    &[readonly]
        border-bottom 1px solid transparent
        user-select none


// Views
.body-pane
    flex 1
    overflow hidden

.view-navigation
    flex none
    display flex
    height 32px + 24px + 2px
    flex-direction column
    border-bottom 2px solid #000

    .window-nav
        display flex
        width 100%
        height 21px
        padding 4px 8px

        align-items center

        border-bottom 1px solid #333
        -webkit-app-region drag

    .window-nav-item
        display inline-flex
        width 12px
        height 12px
        margin-right 6px
        border-radius 8px

        align-items center
        justify-content center

        font-size 10px
        text-align center
        line-height 12px
        vertical-align middle

        color rgba(#fff, .2)
        transition all .1s
        background-color transparent
        border 1px solid rgba(#fff, .5)

        &:hover
            border-color var(--active-pane-border)

        &.window-nav--close:hover
            background-color #820000

        &.window-nav--minimize:hover
            background-color #827900

        &.window-nav--maximize:hover
            background-color #008234


    .navigation-items
        display flex
        align-items center
        flex 1
        padding 4px 4px
        vertical-align middle

        li
            display inline-flex
            align-items center
            width 24px
            height 24px
            margin-right 8px
            font-size 22px
            line-height 1
            border 1px solid transparent
            cursor default
            transition all .2s

            &:hover
                background-color rgba(#000, .5)
                border-color #999

.view-preview
    width 100%
    height 100%

    .inner
        display flex
        width 100%
        height 100%
        flex-direction column

    .header
        display flex
        height 30px
        padding 8px
        align-items center
        border-bottom 1px solid #333


    .view
        display flex
        flex-direction column
        align-items center
        justify-content center
        overflow hidden

        flex 1

        .canvas
            display block
            box-shadow 0 0 5px rgba(0,0,0,.5)

.view-assets
    width 300px
    flex none

    .asset-list, .composition-list
        width 100%
        flex 1

        // tbody, thead, tr, td, th
        //     display block

        th
            border-bottom 1px solid rgba(#fff, .3)

        td
            border-bottom 1px solid rgba(#fff, .2)

        th, td
            padding 4px
            font-size 12px

    .composition-list
        margin-top 16px

.view-timeline
    display flex
    height 200px
    flex none
    font-size 12px

    .--col-name
        display inline-flex
        align-items center
        flex 1
        overflow hidden
        white-space normal
        text-overflow ellipsis

    .--col-visibility
    .--col-lock
        display inline-flex
        align-items center
        width 16px


    .timeline-labels-container
        display flex
        flex-direction column
        width 180px
        flex none
        background-color hsl(0, 0%, 10%)

    .timeline-labels-header
        display flex
        width 100%
        height 30px
        background var(--caption-row-background)

    .timeline-labels
        thin-scrollbar()

        display block
        flex 1
        overflow auto
        padding-bottom 20px

    .timeline-labels-label
        display flex
        height 24px
        padding 2px
        padding-left 4px
        border-bottom 1px solid rgba(#fff, .1)
        line-height 1.6
        vertical-align middle



    .timeline-labels-label-item
        // display table-cell
        display inline-block

        &.--col-name
            // width 100px
            flex 1
            overflow hidden
            white-space normal
            text-overflow ellipsis

        &.--col-visibility
        &.--col-lock
            width 16px

    .timeline-container
        display flex
        flex-direction column
        flex 1
        background-color hsl(0, 0%, 10%)

    .timeline-gradations
        position relative
        width 100%
        height 30px
        border-bottom 1px solid #444

    .timeline-playingCursor
        position absolute
        top 100%

        border-left 1px solid #fff
        opacity .4

        &::before
            content ''
            position relative
            left -5px
            top -5px

            display block

            border 5px solid transparent
            border-top-color #fff

    .timeline-lane-container
        disable-scrollbar()
        flex 1
        padding-bottom 20px
        overflow auto

    .timeline-lane
        height 24px
        padding 1px 0
        padding-left 4px
        overflow hidden
        border-bottom 1px solid rgba(#fff, .1)

        &.dragover
            background-color rgba(#fff, .2)

    .timerange-bar
        position relative
        display inline-block
        width 300px
        height 21px
        background-color #4d1eb0
        bottom 1px solid #3d157d
